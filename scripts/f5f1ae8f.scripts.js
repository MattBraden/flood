"use strict";angular.module("floodGame",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/game.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("floodGame").controller("MainCtrl",["$scope","$timeout",function(a,b){var c=["red","yellow","blue","orange","purple","green"];a.createBoard=function(){a.board=new Array(14);for(var b=0;b<a.board.length;b++)a.board[b]=new Array(14);a.reset()},a.reset=function(){a.count=0;for(var b=0;b<a.board.length;b++)for(var d=0;d<a.board.length;d++)a.board[b][d]={},a.board[b][d].color=c[Math.floor(Math.random()*c.length)],a.board[b][d].controlled=!1;a.board[0][0].controlled=!0,a.currentColor=a.board[0][0].color,a.updateBoard()},a.tileClick=function(c){c.color!==a.currentColor&&(a.currentColor=c.color,a.count++,a.updateBoard(),a.isDone()&&b(function(){a.reset()},2e3))},a.updateBoard=function(){for(var b=0;b<a.board.length;b++)for(var c=0;c<a.board.length;c++)a.board[b][c].controlled===!0&&(a.checkNeighbors(b,c),a.board[b][c].color=a.currentColor)},a.checkNeighbors=function(b,c){b-1>=0&&a.board[b-1][c].color===a.currentColor&&a.board[b-1][c].controlled===!1&&(a.board[b-1][c].controlled=!0,a.checkNeighbors(b-1,c)),b+1<a.board.length&&a.board[b+1][c].color===a.currentColor&&a.board[b+1][c].controlled===!1&&(a.board[b+1][c].controlled=!0,a.checkNeighbors(b+1,c)),c-1>=0&&a.board[b][c-1].color===a.currentColor&&a.board[b][c-1].controlled===!1&&(a.board[b][c-1].controlled=!0,a.checkNeighbors(b,c-1)),c+1<a.board.length&&a.board[b][c+1].color===a.currentColor&&a.board[b][c+1].controlled===!1&&(a.board[b][c+1].controlled=!0,a.checkNeighbors(b,c+1))},a.isDone=function(){for(var b=0;b<a.board.length;b++)for(var c=0;c<a.board.length;c++)if(a.board[b][c].controlled===!1)return!1;return!0},a.getColor=function(a){return a>25?{color:"#FF3B30"}:void 0},a.createBoard()}]);